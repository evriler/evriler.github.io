define("utils/cookie",[],function(){var e={read:function(e){var t=document.cookie.match("(?:^|;)\\s*"+e+"=([^;]*)");return t?decodeURIComponent(t[1]):null},write:function(e){var t=e.name+"="+encodeURIComponent(e.value);e.domain&&(t+="; domain="+e.domain),e.path&&(t+="; path="+e.path);if(e.day){var n=new Date;n.setTime(n.getTime()+e.day*24*60*60*1e3),t+="; expires="+n.toGMTString()}if(e.expires){var r=new Date((new Date).getTime()+864e5-((new Date).getHours()*60*60+(new Date).getMinutes()*60+(new Date).getSeconds())*1e3);r.setTime(r.getTime()),t+="; expires="+r.toGMTString()}document.cookie=t;return},dispose:function(e){var t=this.read(e);this.write({name:e,value:t,day:-1});return}};return function(n,r,i){return typeof r!="undefined"?r===null?e.dispose(n):(i=i||{},i.name=n,i.value=r,e.write(i)):e.read(n)}}),define("models/account",["jquery","utils/cookie"],function(e,t){function n(){return e("[data-has-login]").data("has-login")===!0}return{isLogin:n}}),define("utils/stat",["jquery"],function(){function e(e,t,n,r){n==undefined?n="":n,(new Image).src="http://s.daling.com/b.gif?cache="+ +(new Date).getTime()+"&dataClass1="+e+"|"+"dataClass2="+t+"|"+"dataClass3="+n,_hmt.push(["_trackEvent",e,t,n]),ga("send","event",e,t,n)}return function(){if(localStorage.getItem("gaInfo")!=null){var t=JSON.parse(localStorage.getItem("gaInfo"));ga("require","ecommerce"),ga("ecommerce:addTransaction",{id:t.orderId,affiliation:t.orderAffiliation,revenue:t.orderRevenueCurrency,shipping:t.orderShippingCurrency,tax:t.orderTaxCurrency}),$.each(t.goods,function(e,t){ga("ecommerce:addItem",{id:t.Id*1,name:t.Name,sku:t.SKU,category:t.Category,price:t.Price,quantity:t.Quantity*1})}),ga("ecommerce:send"),localStorage.removeItem("gaInfo")}}(),$("body").on("click","[data-stat-desc]",function(t){var n=$(this).attr("data-stat-desc"),r=n.split("-")[0],i=n.split("-")[1],s=n.split("-")[2];e(r,i,s,n)}),e.trackTransaction=function(e){localStorage.setItem("gaInfo",e)},e}),define("utils/validator",["jquery","jquery-validate"],function(e){return e.validator.addMethod("regexp",function(e,t,n){return this.optional(t)||n.test(e)},"格式不正确"),function(t,n,r){e(t).validate(e.extend(n,{submitHandler:r}))}}),define("utils/dsp",["jquery","utils/cookie"],function(e,t){"use strict";function n(t){var n=document.createElement("script"),r=e.Deferred();return n.type="text/javascript",n.src=t,document.getElementsByTagName("body")[0].appendChild(n),n.onload=function(){r.resolve()},r.promise()}var r=n("https://v.behe.com/js/bgnms.js");(function(){r.then(function(){e("body").append('<iframe height="0" width="0" frameborder="0" src="https://v.behe.com/js/0.html"></iframe><script type="text/javascript">beheActiveView({at:"arrive",src:"1697005363",cid:"utm_source=bihe",sid:"2216"});</script>')})})();var i=e("[data-nickname]").data("nickname"),s=e("[data-user-id]").data("user-id");return{trackGoodsView:function(e,t,n,r,i,s,o){},trackCartView:function(){r.then(function(){e("body").append('<script type="text/javascript">beheActiveEvent({at:"buy",src:"1697005363",cid:"utm_source=bihe",sid:"2216.2068"});</script>')})},trackCart:function(e){},trackOrdertView:function(){r.then(function(){e("body").append('<script type="text/javascript">beheActiveEvent({at:"buy_1",src:"1697005363",cid:"utm_source=bihe",sid:"2216.2069"});</script>')})},trackOrder:function(e,t,n){},trackRegister:function(){},trackSuccesstView:function(){r.then(function(){e("body").append('<script type="text/javascript">beheActiveEvent({at:"buy_2",src:"1697005363",cid:"utm_source=bihe",sid:"2216.2070"});</script>')})},zampda:function(){(function(e){var t={query:[],args:e||{}};t.query.push(["_setAccount","614"]),(window.__zpSMConfig=window.__zpSMConfig||[]).push(t);var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"==document.location.protocol?"https:":"http:")+"//cdn.zampda.net/s.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)})(window.__zp_tag_params)}}}),define("widgets/popup",["jquery"],function(e){var t={};return t.open=function(e,n){var r=e.find(".da-dialog-inner");e.show(),r.css({"margin-left":-r.width()/2+"px","margin-top":-r.height()/2+"px"}),e.data("close-handler",function(){n?n():null});if(e.data("dialog-init"))return;e.find(".close,.mask,[data-address-cancel]").on("click",function(){t.hide(e)}),e.data("dialog-init","init")},t.hide=function(e){e.hide(),e.data("close-handler")()},t}),define("widgets/login-panel",["jquery","utils/validator","utils/dsp","widgets/popup"],function(e,t,n,r){return function(i){function h(){var t=o.find("[data-send-code]"),n=o.find("[data-resent]");if(l>0)return;o.find("[name=mobile]").valid()&&o.find("[name=validate]").valid()&&(t.prop("disabled",!0),e.post(o.data("verify-url"),{mobile:o.find("[name=mobile]").val(),validate:o.find("[name=validate]").val(),type:"reg"}).done(function(r){t.prop("disabled",!1);if(!r.status){e("[data-captcha]").click(),e("[data-text-error]").html("*"+r.msg);return}e("[data-text-error]").html(""),l=60,n.show().find(".timer").html(l),t.hide();var i=setInterval(function(){l-=1;if(l>0){n.find(".timer").html(l);return}clearInterval(i),n.hide(),t.show()},1e3)}))}function p(e){c=e||function(){},o.hide(),s.show(),i.find("[data-tab-login]").addClass("active"),i.find("[data-tab-register]").removeClass("active"),i.find("[data-captcha]").click()}function d(e){c=e||function(){},o.show(),s.hide(),i.find("[data-tab-login]").removeClass("active"),i.find("[data-tab-register]").addClass("active"),i.find("[data-captcha]").click()}var s=i.find(".login-form"),o=i.find(".register-form"),u=e("[data-Agreement]").find("input"),a=e("[data-agreement-a]"),f=e("[data-agreement-dialog]"),l=0,c;return u.click(function(){e("[data-Agreement]").find("input:checked").length==1?(e("[data-text-error]").html(""),o.find("[type=submit]").removeClass("dispabled")):o.find("[type=submit]").addClass("dispabled")}),a.click(function(){r.open(f,function(){})}),e("[data-agreement-confirm]").click(function(){e("[data-Agreement]").find("input:checked").length==0&&e("[data-Agreement]").find("input").click(),r.hide(f)}),e("[data-agreement-close]").click(function(){r.hide(f)}),i.delegate("input","focus",function(t){var n=e(t.currentTarget);i.find(".ctrl").removeClass("current"),n.closest(".ctrl").addClass("current")}),i.find("[data-captcha]").click(function(t){var n=e(t.target),r=n.data("src");n.attr("src",r+"&_r="+(new Date).getTime())}),i.find("[data-tab-login]").click(function(){p(c)}),i.find("[data-tab-register]").click(function(){d(c)}),i.find("[data-send-code]").click(h),t(s,{rules:{mobile:{required:!0,regexp:/^0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/},pass:{required:!0}},messages:{mobile:{required:"请输入手机号",regexp:"请输入正确的手机号码"},pass:{required:"请输入密码"}}},function(n,r){r.preventDefault();var i=s.serialize();e.post(s.attr("action"),i).done(function(t){t.status?(e("[data-text-error1]").html(""),e("[data-has-login]").data("has-login",!0),c()):e("[data-text-error1]").html("*"+t.msg)})}),e(".mobile").each(function(){e(this).keyup(function(){e(this).parents("form").css("display")=="block"&&e(this).val().match(/\s+/g)!=null&&e(this).val(e(this).val().replace(/\s*/g,""))})}),t(o,{rules:{mobile:{required:!0,regexp:/^0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/},validate:{required:!0},code:{required:!0},pass:{required:!0}},messages:{mobile:{required:"请输入手机号",regexp:"请输入正确的手机号码"},validate:{required:"请输入验证码"},code:{required:"请输入短信验证码"},pass:{required:"请输入密码"}}},function(r,i){i.preventDefault();if(e("[data-Agreement]").find("input:checked").length==0){e("[data-text-error]").html("请接受服务条款");return}var s=o.serialize();o.find("[type=submit]").prop("disabled","disabled"),e.post(o.attr("action"),s).done(function(t){o.find("[type=submit]").prop("disabled",null),t.status?(e("[data-text-error]").html(""),e("[data-has-login]").data("has-login",!0),n.trackRegister(),c()):e("[data-text-error]").html("*"+t.msg)})}),{login:p,register:d}}}),define("widgets/login-dialog",["jquery","widgets/login-panel"],function(e,t){function s(e){n.show(),i.login(function(){n.hide(),e?e():location.reload()})}function o(e){n.show(),i.register(function(){n.hide(),e?e():location.reload()})}var n=e("[data-login-dialog]"),r=n.find(".close"),i=t(n);return r.click(function(){n.hide()}),{login:s,register:o}}),define("utils/shims",[],function(){window.console=window.console||{log:function(){},error:function(){},debug:function(){}}}),define("widgets/header",["jquery","models/account","utils/stat","widgets/login-dialog","utils/dsp","utils/shims"],function(e,t,n,r,i){function a(){e.get("/api/goods/getNavigation",function(t){e("[da-category]").find(".opened").length==0&&e(".da-category .dt").append(t)}),o.find(".ico-up").css("display","none"),o.find(".ico-down").css("display","inline-block")}function l(){e(window).scrollTop()>=f?e("[data-go-top]").fadeIn():e("[data-go-top]").fadeOut()}e.ajaxSetup({cache:!1});var s=e(".da-header");s.find("[data-login]").click(function(){r.login()}),s.find("[data-register]").click(function(){r.register()});var o=e(".da-category"),u=null;o.mouseenter(function(){u=setTimeout(a,300)}).mouseleave(function(){e("[da-category]").find(".opened").length==0&&(e(".da-category").find(".dd").remove(),clearTimeout(u)),o.find(".ico-up").css("display","inline-block"),o.find(".ico-down").css("display","none")}),e("body").click(function(){e("[da-category]").find(".opened").length==0&&e(".da-category").find(".dd").hide(200)});var f=e(window).height();l(),e(window).scroll(function(){l()}),e("[data-go-top]").on("click",function(){e(window).scrollTop(0)}),e("[data-user-menu]").find("a").each(function(){e(this).click(function(){e(this).next("ul").length>0&&e(this).next("ul").slideToggle(200)})}),e(window).load(function(){i.zampda()})}),define("utils/param",[],function(){return function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+t+"=([^&#]*)",r=new RegExp(n),i=r.exec(window.location.href);return i==null?"":i[1]}}),require(["jquery","widgets/header","widgets/login-panel","utils/param"],function(e,t,n,r){e(function(){n(e("[data-login-ct]")).login(function(){try{var e=decodeURIComponent(r("refer"));e&&e.match(/^(http:\/\/|https:\/\/)/)?location.href=e:location.href="/"}catch(t){location.href="/"}});var t=e(".da-login-bg");t.delegate("input","focus",function(n){$el=e(n.currentTarget),t.find(".ctrl").removeClass("current"),$el.closest(".ctrl").addClass("current")})})}),define("apps/login",function(){});